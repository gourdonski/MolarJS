!function(t,r){"use strict";null!=t&&(t.molar=t.molar||{}),r()}(window,function(){Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,u,l=[];for(i in o)t.call(o,i)&&l.push(i);if(r)for(u=0;u<e;u++)t.call(o,n[u])&&l.push(n[u]);return l}}()),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var r=Object(this),n=r.length>>>0;if("function"!=typeof t)throw new TypeError;for(var e=[],o=arguments.length>=2?arguments[1]:void 0,i=0;i<n;i++)if(i in r){var u=r[i];t.call(o,u,i,r)&&e.push(u)}return e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,r){var n;if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if(0===o)return-1;var i=+r||0;if(Math.abs(i)===1/0&&(i=0),i>=o)return-1;for(n=Math.max(i>=0?i:o-Math.abs(i),0);n<o;){if(n in e&&e[n]===t)return n;n++}return-1}),Array.prototype.map||(Array.prototype.map=function(t,r){var n,e,o;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),u=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=r),e=new Array(u),o=0;o<u;){var l,s;o in i&&(l=i[o],s=t.call(n,l,o,i),e[o]=s),o++}return e}),Array.prototype.some||(Array.prototype.some=function(t){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var r=Object(this),n=r.length>>>0,e=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in r&&t.call(e,r[o],o,r))return!0;return!1}),Array.prototype.every||(Array.prototype.every=function(t,r){var n,e;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError;for(arguments.length>1&&(n=r),e=0;e<i;){var u;if(e in o){var l=t.call(n,u,e,o);if(!l)return!1}e++}return!0}),Array.prototype.forEach||(Array.prototype.forEach=function(t,r){var n,e;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=r),e=0;e<i;){var u;e in o&&(u=o[e],t.call(n,u,e,o)),e++}})}),function(t,r){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},r(n)}(window,function(t){function r(){}t.array=new r,r.prototype.first=function(r,n){if(!t.helpers.isArray(r))throw new TypeError("Arg is not an array");if(!t.helpers.isFunction(n))throw new TypeError("Callback is not a function");var e;return r.some(function(t){return!!n(t)&&(e=t,!0)}),e},r.prototype.any=function(r,n){if(!t.helpers.isArray(r))throw new TypeError("Arg is not an array");if(t.helpers.isFunction(n))return!t.helpers.isUndefined(this.first(r,n));var e=Object(r).length>>>0;return e>0},r.prototype.elementAt=function(r,n,e){if(!t.helpers.isArray(r))throw new TypeError("Arg is not an array");return n=t.helpers.isInteger(n)&&n<0?r.length+n:n,null!=e&&(r[n]=e),r[n]}}),function(t,r){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},r(n)}(window,function(t){function r(t,r,n,e,o){this._date=[o||null,e||null,n||1,r||0,t||(new Date).getFullYear()]}t.DateBuilder=r,r.prototype.minutes=function(t){this._date[0]=t},r.prototype.hours=function(t){this._date[1]=t},r.prototype.date=function(t){this._date[2]=t},r.prototype.month=function(t){this._date[3]=t},r.prototype.year=function(t){this._date[4]=t},r.prototype.set=function(r,n){t.array.elementAt(this._date,r,n)},r.prototype.getMinutes=function(){return this._date[0]},r.prototype.getHours=function(){return this._date[1]},r.prototype.getDate=function(){return this._date[2]},r.prototype.getMonth=function(){return this._date[3]},r.prototype.getYear=function(){return this._date[4]},r.prototype.build=function(){return function(t,r,n,e,o){return new Date(o,e,n,r,t)}.apply(null,this._date)}}),function(t,r){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},r(n)}(window,function(t){var r=t.helpers={};return r.isArray=function(t){return void 0!==t&&null!==t&&t instanceof Array},r.isUndefined=function(t){return void 0===t||"undefined"==typeof t},r.isFunction=function(t){return"function"==typeof t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isInteger=function(t){return"number"==typeof t&&t%1===0},r.isDate=function(t){try{return t.constructor.toString().indexOf("Date")!=-1}catch(r){return!1}},r.through=function(){if(0!==arguments.length){if(1===arguments.length)return arguments[0];for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return t}},r.mixin=function(t,r){for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},r.stringify=function(t){return JSON.stringify(t)},r.hash=function(t){if(!this.isString(t))return null;var r,n=0;if(0===t.length)return n;for(var e=0;e<t.length;e++)r=t.charCodeAt(e),n=(n<<5)-n+r,n|=0;return n},r.iterator=function(n){if(!r.isArray(n)||!t.array.any(n))return null;var e=-1;return{current:function(){return n[e]},next:function(){return e>=n.length?null:n[++e]},peek:function(){return n[e+1]},seek:function(t){for(;++e<=n.length;)if(t(n[e]))return n[e];return null},reset:function(){e=-1}}},r}),function(t,r){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},r(n)}(window,function(t){function r(t,r){this.allowDuplicate=t,this.ttl=r,this._collection=[]}function n(t,r,n,e){this.key=t,this.value=r,this.timestamp=n,this.expiration=e}function e(r){return t.helpers.isDate(r.expiration)&&r.expiration<new Date}function o(t){return function(r){return t.some(function(t){return t===r.key})}}function i(t){return function(r){return e(r)||t(r)}}t.Lookup=r,r.prototype.add=function(t,r){if(this.allowDuplicate!==!1||!this.contains(t)){var e=new Date,o=null;return this.ttl&&(o=new Date(e),o.setMilliseconds(o.getMilliseconds()+this.ttl)),this._collection.push(new n(t,r,e,o)),!0}return!1},r.prototype.load=function(r,n,e){e=t.helpers.isFunction(e)?e:t.helpers.through;for(var o=t.helpers.isFunction(n)?n:function(t){return t[n]},i=0;i<r.length;i++){var u=r[i];this.add(o(u),e(u))}return this},r.prototype.clear=function(){this._collection=[]},r.prototype.removeBy=function(t){for(var r=this.ttl?i(t):t,n=[],e=0,o=this._collection.length,u=0;u<o;u++)r(this._collection[u])&&n.unshift(u);for(var l=0;l<n.length;l++)this._collection.splice(n[l],1),e++;return e},r.prototype.removeFirst=function(t){for(var r=this.ttl?i(t):t,n=this._collection.length,e=0;e<n;e++)if(r(this._collection[e]))return this._collection.splice(e,1),!0;return!1},r.prototype.remove=function(r){var n=r;if(arguments.length>1){n=new Array(arguments.length);for(var e=0;e<n.length;e++)n[e]=arguments[e]}else t.helpers.isArray(n)||(n=[n]);var i;if(this.allowDuplicate)i=this.removeBy(o(n));else{i=0;for(var u=this,l=0;l<n.length;l++)(function(t){u.removeFirst(function(r){return r.key===n[t]})&&i++})(l)}return i},r.prototype.findBy=function(t){var r,n,o=this._collection.length,i=[];if(this.ttl){var u=[];for(r=0;r<o;r++)n=this._collection[r],e(n)?u.push(r):t(n)&&i.push(n.value);for(r=0;r<u.length;r++)this._collection.splice(u[r],1)}else for(r=0;r<o;r++)n=this._collection[r],t(n)&&i.push(n.value);return i},r.prototype.findFirst=function(t){var r,n,o=this._collection.length;if(this.ttl){var i=null,u=[];for(r=0;r<o;r++)if(n=this._collection[r],e(n)){if(u.push(r),t(n))break}else if(t(n)){i=n.value;break}for(r=0;r<u.length;r++)this._collection.splice(u[r],1);return i}for(r=0;r<o;r++)if(n=this._collection[r],t(n))return n.value;return null},r.prototype.find=function(r){var n=r;if(arguments.length>1){n=new Array(arguments.length);for(var e=0;e<n.length;e++)n[e]=arguments[e]}else t.helpers.isArray(n)||(n=[n]);var i;if(this.allowDuplicate)i=this.findBy(o(n));else{i=[];for(var u=this,l=0;l<n.length;l++)(function(t){i.push(u.findFirst(function(r){return r.key===n[t]}))})(l)}return i},r.prototype.contains=function(t){return null!=this.findFirst(function(r){return r.key===t})},r.prototype.values=function(){return this.ttl?this.findBy(t.helpers.through):this._collection.map(function(t){return t.value})},r.prototype.count=function(){return this.values().length}});