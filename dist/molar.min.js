!function(t,e){"use strict";null!=t&&(t.molar=t.molar||{}),e()}(window,function(){Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,s,a=[];for(i in o)t.call(o,i)&&a.push(i);if(e)for(s=0;s<r;s++)t.call(o,n[s])&&a.push(n[s]);return a}}()),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;i<n;i++)if(i in e){var s=e[i];t.call(o,s,i,e)&&r.push(s)}return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return-1;var i=+e||0;if(Math.abs(i)===1/0&&(i=0),i>=o)return-1;for(n=Math.max(i>=0?i:o-Math.abs(i),0);n<o;){if(n in r&&r[n]===t)return n;n++}return-1}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,o;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),s=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=new Array(s),o=0;o<s;){var a,l;o in i&&(a=i[o],l=t.call(n,a,o,i),r[o]=l),o++}return r}),Array.prototype.some||(Array.prototype.some=function(t){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in e&&t.call(r,e[o],o,e))return!0;return!1}),Array.prototype.every||(Array.prototype.every=function(t,e){var n,r;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError;for(arguments.length>1&&(n=e),r=0;r<i;){var s;if(r in o){var a=t.call(n,s,r,o);if(!a)return!1}r++}return!0}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;r<i;){var s;r in o&&(s=o[r],t.call(n,s,r,o)),r++}})}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},e(n)}(window,function(t){function e(){}t.array=new e,e.prototype.first=function(e,n){if(!t.helpers.isArray(e))throw new TypeError("Arg is not an array");if(!t.helpers.isFunction(n))throw new TypeError("Callback is not a function");var r;return e.some(function(t){return!!n(t)&&(r=t,!0)}),r},e.prototype.any=function(e,n){if(!t.helpers.isArray(e))throw new TypeError("Arg is not an array");if(t.helpers.isFunction(n))return!t.helpers.isUndefined(this.first(e,n));var r=Object(e).length>>>0;return r>0},e.prototype.elementAt=function(e,n,r){if(!t.helpers.isArray(e))throw new TypeError("Arg is not an array");return n=t.helpers.isInteger(n)&&n<0?e.length+n:n,null!=r&&(e[n]=r),e[n]}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},e(n)}(window,function(t){function e(t,e,n,r,o){this._date=[o||null,r||null,n||1,e||0,t||(new Date).getFullYear()]}t.DateBuilder=e,e.prototype.minutes=function(t){this._date[0]=t},e.prototype.hours=function(t){this._date[1]=t},e.prototype.date=function(t){this._date[2]=t},e.prototype.month=function(t){this._date[3]=t},e.prototype.year=function(t){this._date[4]=t},e.prototype.set=function(e,n){t.array.elementAt(this._date,e,n)},e.prototype.getMinutes=function(){return this._date[0]},e.prototype.getHours=function(){return this._date[1]},e.prototype.getDate=function(){return this._date[2]},e.prototype.getMonth=function(){return this._date[3]},e.prototype.getYear=function(){return this._date[4]},e.prototype.build=function(){return function(t,e,n,r,o){return new Date(o,r,n,e,t)}.apply(null,this._date)}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},e(n)}(window,function(t){var e=t.helpers={};return e.isArray=function(t){return void 0!==t&&null!==t&&t instanceof Array},e.isUndefined=function(t){return void 0===t||"undefined"==typeof t},e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isInteger=function(t){return"number"==typeof t&&t%1===0},e.isDate=function(t){try{return t.constructor.toString().indexOf("Date")!=-1}catch(e){return!1}},e.through=function(){if(0!==arguments.length){if(1===arguments.length)return arguments[0];for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return t}},e.mixin=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.stringify=function(t){return JSON.stringify(t)},e.hash=function(t){if(!this.isString(t))return null;var e,n=0;if(0===t.length)return n;for(var r=0;r<t.length;r++)e=t.charCodeAt(r),n=(n<<5)-n+e,n|=0;return n},e.iterator=function(n){if(!e.isArray(n)||!t.array.any(n))return null;var r=-1;return{current:function(){return n[r]},next:function(){return r>=n.length?null:n[++r]},peek:function(){return n[r+1]},seek:function(t){for(;++r<=n.length;)if(t(n[r]))return n[r];return null},reset:function(){r=-1}}},e}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},e(n)}(window,function(t){function e(t,e){this.allowDuplicate=t,this.ttl=e,this._collection=[]}function n(t,e,n,r){this.key=t,this.value=e,this.timestamp=n,this.expiration=r}function r(e){return t.helpers.isDate(e.expiration)&&e.expiration<new Date}function o(t){return function(e){return t.some(function(t){return t===e.key})}}function i(t){return function(e){return r(e)||t(e)}}t.Lookup=e,e.prototype.add=function(t,e){if(this.allowDuplicate!==!1||!this.contains(t)){var r=new Date,o=null;return this.ttl&&(o=new Date(r),o.setMilliseconds(o.getMilliseconds()+this.ttl)),this._collection.push(new n(t,e,r,o)),!0}return!1},e.prototype.load=function(e,n,r){r=t.helpers.isFunction(r)?r:t.helpers.through;for(var o=t.helpers.isFunction(n)?n:function(t){return t[n]},i=0;i<e.length;i++){var s=e[i];this.add(o(s),r(s))}return this},e.prototype.clear=function(){this._collection=[]},e.prototype.removeBy=function(t){for(var e=this.ttl?i(t):t,n=[],r=0,o=this._collection.length,s=0;s<o;s++)e(this._collection[s])&&n.unshift(s);for(var a=0;a<n.length;a++)this._collection.splice(n[a],1),r++;return r},e.prototype.removeFirst=function(t){for(var e=this.ttl?i(t):t,n=this._collection.length,r=0;r<n;r++)if(e(this._collection[r]))return this._collection.splice(r,1),!0;return!1},e.prototype.remove=function(e){var n=e;if(arguments.length>1){n=new Array(arguments.length);for(var r=0;r<n.length;r++)n[r]=arguments[r]}else t.helpers.isArray(n)||(n=[n]);var i;if(this.allowDuplicate)i=this.removeBy(o(n));else{i=0;for(var s=this,a=0;a<n.length;a++)(function(t){s.removeFirst(function(e){return e.key===n[t]})&&i++})(a)}return i},e.prototype.findBy=function(t){var e,n,o=this._collection.length,i=[];if(this.ttl){var s=[];for(e=0;e<o;e++)n=this._collection[e],r(n)?s.push(e):t(n)&&i.push(n.value);for(e=0;e<s.length;e++)this._collection.splice(s[e],1)}else for(e=0;e<o;e++)n=this._collection[e],t(n)&&i.push(n.value);return i},e.prototype.findFirst=function(t){var e,n,o=this._collection.length;if(this.ttl){var i=null,s=[];for(e=0;e<o;e++)if(n=this._collection[e],r(n)){if(s.push(e),t(n))break}else if(t(n)){i=n.value;break}for(e=0;e<s.length;e++)this._collection.splice(s[e],1);return i}for(e=0;e<o;e++)if(n=this._collection[e],t(n))return n.value;return null},e.prototype.find=function(e){var n=e;if(arguments.length>1){n=new Array(arguments.length);for(var r=0;r<n.length;r++)n[r]=arguments[r]}else t.helpers.isArray(n)||(n=[n]);var i;if(this.allowDuplicate)i=this.findBy(o(n));else{i=[];for(var s=this,a=0;a<n.length;a++)(function(t){i.push(s.findFirst(function(e){return e.key===n[t]}))})(a)}return i},e.prototype.contains=function(t){return null!=this.findFirst(function(e){return e.key===t})},e.prototype.values=function(){return this.ttl?this.findBy(t.helpers.through):this._collection.map(function(t){return t.value})},e.prototype.count=function(){return this.values().length}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},e(n)}(window,function(t){function e(){this.definitions=[]}t.Mapper=e,e.prototype.register=function(t){return this.definitions.push(t),this},e.prototype.map=function(e,n){var r=t.array.first(this.definitions,function(t){return t.name===n});if(null===r||t.helpers.isUndefined(r))return null;var o={};if(t.helpers.isArray(r.maps))for(var i=0;i<r.maps.length;i++){var s=r.maps[i];if(t.helpers.isUndefined(s.condition)||t.helpers.isFunction(s.condition)&&s.condition(e[s.source])){var a=t.helpers.isFunction(s.transform)?s.transform:t.helpers.through;o[s.target]=a(e[s.source])}}if(r.autoMap===!0)for(var l in e)e.hasOwnProperty(l)&&t.helpers.isUndefined(o[l])&&(o[l]=e[l]);return o}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},n.MapperDef=e()}(window,function(){function t(t,e){this.name=t,this.autoMap=e,this.maps=[]}return t.prototype.define=function(t){return this.definition=t,this},t.prototype.addMap=function(t,e,n,r){return this.maps.push({source:t,target:e,transform:n,condition:r}),this},t}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},e(n)}(window,function(t){function e(e){t.helpers.mixin(e,this),this.prototype=e.prototype;var r=n(e);this._originalHashCode=function(){return r}}function n(e){return t.helpers.hash(t.helpers.stringify(e))}t.Mutant=e,e.prototype.mutated=function(){return n(this)!=this._originalHashCode()},e.prototype.rebase=function(){var t=n(this);this._originalHashCode=function(){return t}},e.compare=function(t,e){return t===e||n(t)===n(e)}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},(n.ready=n.ready||{}).constants=e()}(window,function(){var t={};return t.EXPRESSION_TYPE={STANDARD:"standard",MINUTES:"minutes"},t.FIELD_TYPE={RANGE:"Range",LIST:"List",SINGLE:"Single",WILD_CARD:"*"},t.FIELD_NAME={MINUTES:"minutes",HOURS:"hours",MINUTES_OF_DAY:"minutesOfDay",DAY_OF_MONTH:"dayOfMonth",MONTH:"month",DAY_OF_WEEK:"dayOfWeek",YEAR:"year"},t.FIELD_NAMES={},t.FIELD_NAMES[t.EXPRESSION_TYPE.STANDARD]=[t.FIELD_NAME.MINUTES,t.FIELD_NAME.HOURS,t.FIELD_NAME.DAY_OF_MONTH,t.FIELD_NAME.MONTH,t.FIELD_NAME.DAY_OF_WEEK,t.FIELD_NAME.YEAR],t.FIELD_NAMES[t.EXPRESSION_TYPE.MINUTES]=[t.FIELD_NAME.MINUTES_OF_DAY,t.FIELD_NAME.DAY_OF_MONTH,t.FIELD_NAME.MONTH,t.FIELD_NAME.DAY_OF_WEEK,t.FIELD_NAME.YEAR],t.MONTH={JAN:"1",FEB:"2",MAR:"3",APR:"4",MAY:"5",JUN:"6",JUL:"7",AUG:"8",SEP:"9",OCT:"10",NOV:"11",DEC:"12"},t.DAY_OF_WEEK={SUN:"0",MON:"1",TUE:"2",WED:"3",THU:"4",FRI:"5",SAT:"6"},t.END_OF_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],t.MIN_DATE=new Date(1970,0,1,0,0),t.MAX_DATE=new Date(9999,11,31,23,59),t.FIELD_RANGE={minutes:{min:0,max:59},hours:{min:0,max:23},minutesOfDay:{min:0,max:1439},dayOfMonth:{min:1,max:31},month:{min:1,max:12},dayOfWeek:{min:0,max:6},year:{min:t.MIN_DATE.getFullYear(),max:t.MAX_DATE.getFullYear()}},t}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},n.ready=n.ready||{},e(n)}(window,function(t){function e(t){var e=t.split(" ");if(e.length<5||e.length>6)throw"Expression contains invalid number of fields";this.expression=t,this.type=5===e.length?n.constants.EXPRESSION_TYPE.MINUTES:n.constants.EXPRESSION_TYPE.STANDARD;for(var r=!0,o=[],i=n.constants.FIELD_NAMES[this.type],s=0;s<e.length;s++){var a=i[s],l=n.helpers.parseField(e[s],a);null!=l&&n.helpers.validateField(l)||o.push(a),r&=l.type===n.constants.FIELD_TYPE.WILD_CARD,this[a]=l}if(o.length>0)throw"Expression '"+o.join(", ")+"' format error";r&&(this.isWildCardExpression=!0)}var n=t.ready;n.Expression=e,e.prototype.getIterator=function(){function e(t,e,r){switch(e){case n.constants.FIELD_NAME.MINUTES:dateBulder.minutes(r);break;case n.constants.FIELD_NAME.HOURS:t.hours(r);break;case n.constants.FIELD_NAME.MINUTES_OF_DAY:var o=r/60,i=Math.round(o%1*60),s=Math.floor(o);t.minutes(i),t.hours(s);break;case n.constants.FIELD_NAME.DAY_OF_MONTH:t.date(n.helpers.scrubDayOfMonth(r,t.getMonth(),t.getYear()));break;case n.constants.FIELD_NAME.MONTH:t.month(r-1);break;case n.constants.FIELD_NAME.YEAR:t.year(r);break;default:throw"Field '"+e+"' is invalid"}}for(var r,o=t.helpers.iterator(n.helpers.getFieldsByPrecision(this)),i={startDate:new t.DateBuilder,endDate:new t.DateBuilder},s=0;!t.helpers.isUndefined(r=o.next())&&r.type===n.constants.FIELD_TYPE.WILD_CARD;){var a=n.constants.FIELD_RANGE[r.name];if(null==a)throw"Range was null for field '"+r.name+"'";i.startDate.set(s,a.min),i.endDate.set(s,a.max),s++}if(null==r)return{startDate:i.startDate.build(),endDate:i.endDate.build()};var l=[];if(r.type===n.constants.FIELD_TYPE.LIST){var u=r.getFieldIterator();u.isBlockIterator=!0,l.push(u)}else l.push(r.getIterator());for(;!t.helpers.isUndefined(r=o.next());)l.push(r.getIterator());l.reverse();var c,f=!1;return{current:function(){return c},next:function(){if(f===!0||(f=n.helpers.incrementIteratorClock(l)===!1))return null;for(var t,r,o,s,a=0,u=-1;a<l.length;a++,u--)t=l[a],r=t.current(),t.isBlockIterator===!0?r.type===n.constants.FIELD_TYPE.SINGLE?o=s=r.value:r.type===n.constants.FIELD_TYPE.RANGE&&(o=r.minValue,s=r.maxValue):o=s=r,e(i.startDate,t.field,o),e(i.endDate,t.field,s);return c={start:i.startDate.build(),end:i.endDate.build()}}}}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},n.ready=n.ready||{},e(n)}(window,function(t){function e(t,e,n){this.name=t,this.type=e,this.isBlockField=n||!1}function n(t,n,r,o){e.call(this,t,s.constants.FIELD_TYPE.RANGE,o),this.minValue=+n,this.maxValue=+r}function r(t,n,r){e.call(this,t,s.constants.FIELD_TYPE.LIST,r),this.rawValues=n,this.values=s.helpers.decomposeList(t,n)}function o(t,n,r){e.call(this,t,s.constants.FIELD_TYPE.SINGLE,r),this.value=+n}function i(t){e.call(this,t,s.constants.FIELD_TYPE.WILD_CARD)}var s=t.ready;s.RangeField=n,s.ListField=r,s.SingleField=o,s.WildCardField=i,e.prototype.getIterator=function(){var e=this.isBlockField===!0?[this]:s.helpers.getIteratorValues(this),n=t.helpers.iterator(e);return n.field=this.name,n.isBlockIterator=this.isBlockField===!0,n};var a=e.prototype;n.prototype=Object.create(a),r.prototype=Object.create(a),r.prototype.getFieldIterator=function(){var e=t.helpers.iterator(this.values);return e.field=this.name,e.isBlockIterator=this.isBlockField===!0,e},o.prototype=Object.create(a),i.prototype=Object.create(a),i.parse=function(t){var e=s.constants.FIELD_RANGE[t.name];return t.type===s.constants.FIELD_TYPE.WILD_CARD?t:s.helpers.isInterval(t,e.min,e.max)?new s.WildCardField(t.name):null}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},n.ready=n.ready||{},e(n)}(window,function(t){var e=t.ready,n=e.helpers={},r=/^(\w+)-(\w+)$/,o=/^(\w+,)+\w+$/,i=/^(\d{1,4}|[A-Za-z]{3})$/;n.getFieldsByPrecision=function(t){var n;switch(t.type){case e.constants.EXPRESSION_TYPE.MINUTES:n=[t.minutesOfDay,t.dayOfMonth,t.month,t.year];break;case null:case e.constants.EXPRESSION_TYPE.STANDARD:n=[t.minutes,t.hours,t.dayOfMonth,t.month,t.year];break;default:throw"Expression type '"+t.type+"' is invalid"}return n},n.parseField=function(s,a){var l,u,c=this.isBlockField(a),f=s.match(r);if(f){var p=f[1],h=f[2];if(u=n.getMap(a),u&&(p=u[p]||p,h=u[h]||h),c)l=new e.RangeField(a,p,h,(!0));else{var d=new e.RangeField(a,p,h);l=e.WildCardField.parse(d,a)||d}return l}if(f=s.match(o)){var E=s.split(",");u=n.getMap(a),u&&(E=E.map(function(t){return u[t]||t})),l=new e.ListField(a,E,c);var y=l.values;return t.helpers.isArray(y)&&1===y.length&&y[0].type===e.constants.FIELD_TYPE.RANGE&&(l=y[0]),e.WildCardField.parse(l,a)||l}if(f=s.match(i)){var D=s;return a===e.constants.FIELD_NAME.MONTH?D=e.constants.MONTH[D]||D:a===e.constants.FIELD_NAME.DAY_OF_WEEK&&(D=e.constants.DAY_OF_WEEK[D]||D),new e.SingleField(a,D,c)}if("*"===s.trim())return new e.WildCardField(a);throw"Failed to parse field '"+a+"' with value '"+s+"'"},n.validateField=function(t){var r=e.constants.FIELD_RANGE[t.name];return t.type===e.constants.FIELD_TYPE.WILD_CARD||(t.type===e.constants.FIELD_TYPE.SINGLE?t.value>=r.min&&t.value<=r.max:t.type===e.constants.FIELD_TYPE.RANGE?t.minValue>=r.min&&t.maxValue<=r.max:t.type===e.constants.FIELD_TYPE.LIST&&t.values.every(function(e){return n.validateField(e,t.name)}))},n.intersectField=function(t,r){if(r=+r,t.type===e.constants.FIELD_TYPE.WILD_CARD)return e.constants.FIELD_RANGE[t.name].max;if(t.type===e.constants.FIELD_TYPE.SINGLE&&r==t.value)return t.value;if(t.type===e.constants.FIELD_TYPE.RANGE&&r>=t.minValue&&r<=t.maxValue)return t.maxValue;if(t.type===e.constants.FIELD_TYPE.LIST)for(var o=0;o<t.values.length;o++){var i=n.intersectField(t.values[o],r);if(i)return i}return null},n.isBlockField=function(t){return t===e.constants.FIELD_NAME.MINUTES_OF_DAY},n.isInterval=function(t,r,o){return t.type===e.constants.FIELD_TYPE.SINGLE?t.value==r&&t.value==o:t.type===e.constants.FIELD_TYPE.RANGE?t.minValue==r&&t.maxValue==o:t.type===e.constants.FIELD_TYPE.LIST&&(1===t.values.length&&n.isInterval(t.values[0],r,o))},n.decomposeList=function(r,o,i,s,a){i=i||0,a=a||[];var l=+o[i],u=i===o.length;if(!u&&!t.helpers.isInteger(l))throw"Value '"+l+"' is not a valid integer";if(null==s)s=l;else if(i>0){var c=+o[i-1];c+1!==l&&(c===s?a.push(new e.SingleField(r,s)):a.push(new e.RangeField(r,s,c)),s=l)}return u?a:n.decomposeList(r,o,++i,s,a)},n.getValueList=function(e,n){if(!t.helpers.isInteger(e)||!t.helpers.isInteger(n))return null;if(e>n)return null;if(e===n)return e;for(var r=[],o=e;o<=n;o++)r.push(o);return r},n.getMap=function(t){return t===e.constants.FIELD_NAME.MONTH?e.constants.MONTH:t===e.constants.FIELD_NAME.DAY_OF_WEEK?e.constants.DAY_OF_WEEK:void 0},n.getDayOffset=function(t,n,r,o){var i=t.dayOfWeek.type===e.constants.FIELD_TYPE.WILD_CARD,s=t.dayOfMonth.type===e.constants.FIELD_TYPE.WILD_CARD;if(i&&s)return e.constants.FIELD_RANGE[t.dayOfMonth.name].max-n.getDate();var a=s||null==r?null:r-n.getDate(),l=i||null==o?null:o-n.getDay();return null==a&&null==l?null:null==a?l:null==l?a:a>=l?a:l},n.scrubDayOfMonth=function(t,n,r){if(null==t)return null;var o=e.constants.END_OF_MONTH[n];return t<o?t:1===n&&r%4===0?29:o},n.getIteratorValues=function(r){if(r.type===e.constants.FIELD_TYPE.WILD_CARD){var o=e.constants.FIELD_RANGE[r.name];return null==o?null:n.getValueList(o.min,o.max)}if(r.type===e.constants.FIELD_TYPE.SINGLE)return[r.value];if(r.type===e.constants.FIELD_TYPE.RANGE)return n.getValueList(r.minValue,r.maxValue);if(r.type===e.constants.FIELD_TYPE.LIST){if(!t.helpers.isArray(r.values))return null;for(var i=[],s=0;s<r.values.length;s++){var a=r.values[s];if(a.type!==e.constants.FIELD_TYPE.SINGLE&&a.type!==e.constants.FIELD_TYPE.RANGE)return null;i=i.concat(n.getIteratorValues(a))}return i}return null},n.incrementIteratorClock=function(t,e){var r=t[e=e||0];return null!=r&&(n.incrementIteratorClock(t,e+1)||null!=r.next()?(null==r.current()&&r.next(),!0):(0==e?t.forEach(function(t){t.reset()}):(r.reset(),r.next()),!1))}}),function(t,e){"use strict";var n;n="object"==typeof module&&module.exports?module.exports:t.molar=t.molar||{},n.ready=n.ready||{},e(n)}(window,function(t){function e(t){this.expression=new n.Expression(t)}t.Ready=e;var n=t.ready;e.prototype.intersects=function(e){if(!t.helpers.isDate(e))throw"Argument is not a valid Date object";if(this.expression.isWildCardExpression)return n.constants.MAX_DATE;var r=new Date(e),o=n.helpers.intersectField(this.expression.year,r.getFullYear());if(null==o)return null;var i=n.helpers.intersectField(this.expression.month,r.getMonth()+1);if(null==i)return null;i-=1;var s=n.helpers.intersectField(this.expression.dayOfMonth,r.getDate()),a=n.helpers.intersectField(this.expression.dayOfWeek,r.getDay());if(null==s&&null==a)return null;var l=n.helpers.intersectField(this.expression.hours,r.getHours());if(null==l)return null;var u=n.helpers.intersectField(this.expression.minutes,r.getMinutes());if(null==u)return null;if(this.expression.minutes.type!==n.constants.FIELD_TYPE.WILD_CARD)return new Date(r.setMinutes(u));if(this.expression.hours.type!==n.constants.FIELD_TYPE.WILD_CARD)return new Date(r.getFullYear(),r.getMonth(),r.getDate(),l,u);if(this.expression.dayOfWeek.type!==n.constants.FIELD_TYPE.WILD_CARD||this.expression.dayOfMonth.type!==n.constants.FIELD_TYPE.WILD_CARD){i=r.getMonth(),o=r.getFullYear(),s=n.helpers.scrubDayOfMonth(s,i,o);var c=n.helpers.getDayOffset(this.expression,r,s,a);return new Date(o,i,r.getDate()+c,l,u)}return this.expression.month.type!==n.constants.FIELD_TYPE.WILD_CARD?(o=r.getFullYear(),s=n.helpers.scrubDayOfMonth(s,i,o),new Date(o,i,s,l,u)):new Date(o,i,s,l,u)}});